## 数据库_每日八股

### 0321

#### 索引失效 （理清楚所有的查询条件，等于 大于 包含 like等）

1. 表达式和函数参与
2. 左模糊查询
3. 联合索引不符合最左匹配
4. select * 无法使用联合索引
5. 类型隐式转换 如id为varchar ，但是使用where `id` = 100; 
6. 使用OR
7. **两列数据做比较**
8. **查询条件使用is null时正常走索引，使用is not null时，不走索引**。
9. **查询条件使用not in时，如果是主键则走索引，如果是普通索引，则索引失效**。
10. **查询条件使用不等进行比较时，需要慎重，普通索引会查询结果集占比较大时索引会失效**。
11. 当**Mysql发现通过索引扫描的行记录数超过全表的10%-30%时**，优化器可能会放弃走索引，自动变成全表扫描。某些场景下即便强制SQL语句走索引，也同样会失效。

#### 分页查询

limit offset

1. 游标：大量数据使用游标可以逐行地检索数据，**避免一次性读取大量数据**，从而减少内存的使用。
2. 小数据不必使用游标创建游标需要开销。
